<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>和文モールス</title>
</head>
<body>
    <h2 id="moji"></h2>
    <div id="morse"></div>
    <input type="button" value="・" onclick="but(0)">
    <input type="button" value="ー" onclick="but(1)">
    <script>
        var i=0;
        var l=0;
        var music = new Audio('naga.mp3');
        var mu = new Audio('yakyu.mp3');
        var ji=document.getElementById("moji")
        var mo=document.getElementById("morse")
        var intval
        var outval
        function but(ls){
            clearInterval(outval);
            if(l>50){
                check()
            }
            l=0
            if(ls==0){
                mo.innerHTML+="・"
                mu.play();
            }else{
                mo.innerHTML+="ー"
                music.play();
            }
            outval=setInterval(function(){
                l+=1
            }, 10);
        }
        document.onkeydown = function(e) {
            var keyCode = false;
            clearInterval(outval);
            if(l>50){
                check()
            }
            l=0
            if (e) event = e;
            keyCode = event.keyCode;
            i=0
            if(keyCode==32){
                music.play();
                inval=setInterval(function(){
                    i+=1
                }, 10);
            }
            if(keyCode==13){
                check()
            }
        };
        document.onkeyup = function(e) {
            var keyCode = false;

            if (e) event = e;
            keyCode = event.keyCode;

            if(keyCode==32){
                music.pause();
                music.currentTime = 0;
                clearInterval(inval);
                if(i>20){
                    mo.innerHTML+="ー"
                }else{
                    mo.innerHTML+="・"
                }
                outval=setInterval(function(){
                    l+=1

                }, 10);
                i=0
            }
        };
        function check(){
            if(mo.innerHTML=="・ー"){
                ji.innerHTML+="い"
            }
            if(mo.innerHTML=="・ー・ー"){
                ji.innerHTML+="ろ"
            }
            if(mo.innerHTML=="ー・・・"){
                ji.innerHTML+="は"
            }
            if(mo.innerHTML=="ー・ー・"){
                ji.innerHTML+="に"
            }
            if(mo.innerHTML=="ー・・"){
                ji.innerHTML+="ほ"
            }
            if(mo.innerHTML=="・"){
                ji.innerHTML+="へ"
            }
            if(mo.innerHTML=="・・ー・・"){
                ji.innerHTML+="と"
            }
            if(mo.innerHTML=="・・ー・"){
                ji.innerHTML+="ち"
            }
            if(mo.innerHTML=="ーー・"){
                ji.innerHTML+="り"
            }
            if(mo.innerHTML=="・・・・"){
                ji.innerHTML+="ぬ"
            }
            if(mo.innerHTML=="ー・ーー・"){
                ji.innerHTML+="る"
            }
            if(mo.innerHTML=="・ーーー"){
                ji.innerHTML+="を"
            }
            if(mo.innerHTML=="ー・ー"){
                ji.innerHTML+="わ"
            }
            if(mo.innerHTML=="・ー・・"){
                ji.innerHTML+="か"
            }
            if(mo.innerHTML=="ーー"){
                ji.innerHTML+="よ"
            }
            if(mo.innerHTML=="ー・"){
                ji.innerHTML+="た"
            }
            if(mo.innerHTML=="ーーー"){
                ji.innerHTML+="れ"
            }
            if(mo.innerHTML=="ーーー・"){
                ji.innerHTML+="そ"
            }
            if(mo.innerHTML=="・ーー・"){
                ji.innerHTML+="つ"
            }
            if(mo.innerHTML=="ーー・ー"){
                ji.innerHTML+="ね"
            }
            if(mo.innerHTML=="・ー・"){
                ji.innerHTML+="な"
            }
            if(mo.innerHTML=="・・・"){
                ji.innerHTML+="ら"
            }
            if(mo.innerHTML=="ー"){
                ji.innerHTML+="む"
            }
            if(mo.innerHTML=="・・ー"){
                ji.innerHTML+="う"
            }
            if(mo.innerHTML=="・ー・・ー"){
                ji.innerHTML+="ゐ"
            }
            if(mo.innerHTML=="・・ーー"){
                ji.innerHTML+="の"
            }
            if(mo.innerHTML=="・ー・・・"){
                ji.innerHTML+="お"
            }
            if(mo.innerHTML=="・・・ー"){
                ji.innerHTML+="く"
            }
            if(mo.innerHTML=="・ーー"){
                ji.innerHTML+="や"
            }
            if(mo.innerHTML=="ー・・ー"){
                ji.innerHTML+="ま"
            }
            if(mo.innerHTML=="ー・ーー"){
                ji.innerHTML+="け"
            }
            if(mo.innerHTML=="ーー・・"){
                ji.innerHTML+="ふ"
            }
            if(mo.innerHTML=="ーーーー"){
                ji.innerHTML+="こ"
            }
            if(mo.innerHTML=="ー・ーーー"){
                ji.innerHTML+="え"
            }
            if(mo.innerHTML=="・ー・ーー"){
                ji.innerHTML+="て"
            }
            if(mo.innerHTML=="ーー・ーー"){
                ji.innerHTML+="あ"
            }
            if(mo.innerHTML=="ー・ー・ー"){
                ji.innerHTML+="さ"
            }
            if(mo.innerHTML=="ー・ー・・"){
                ji.innerHTML+="き"
            }
            if(mo.innerHTML=="ー・・ーー"){
                ji.innerHTML+="ゆ"
            }
            if(mo.innerHTML=="ー・・・ー"){
                ji.innerHTML+="め"
            }
            if(mo.innerHTML=="・・ー・ー"){
                ji.innerHTML+="み"
            }
            if(mo.innerHTML=="ーー・ー・"){
                ji.innerHTML+="し"
            }
            if(mo.innerHTML=="・ーー・・"){
                ji.innerHTML+="ゑ"
            }
            if(mo.innerHTML=="ーー・・ー"){
                ji.innerHTML+="ひ"
            }
            if(mo.innerHTML=="ー・・ー・"){
                ji.innerHTML+="も"
            }
            if(mo.innerHTML=="・ーーー・"){
                ji.innerHTML+="せ"
            }
            if(mo.innerHTML=="ーーー・ー"){
                ji.innerHTML+="す"
            }
            if(mo.innerHTML=="・ー・ー・"){
                ji.innerHTML+="ん"
            }
            if(mo.innerHTML=="・ーーーー"){
                ji.innerHTML+="1"
            }
            if(mo.innerHTML=="・・ーーー"){
                ji.innerHTML+="2"
            }
            if(mo.innerHTML=="・・・ーー"){
                ji.innerHTML+="3"
            }
            if(mo.innerHTML=="・・・・ー"){
                ji.innerHTML+="4"
            }
            if(mo.innerHTML=="・・・・・"){
                ji.innerHTML+="5"
            }
            if(mo.innerHTML=="ー・・・・"){
                ji.innerHTML+="6"
            }
            if(mo.innerHTML=="ーー・・・"){
                ji.innerHTML+="7"
            }
            if(mo.innerHTML=="ーーー・・"){
                ji.innerHTML+="8"
            }
            if(mo.innerHTML=="ーーーー・"){
                ji.innerHTML+="9"
            }
            if(mo.innerHTML=="ーーーーー"){
                ji.innerHTML+="0"
            }
            if(mo.innerHTML=="・・"){
                ji.innerHTML+="゛"
            }
            if(mo.innerHTML=="・・ーー・"){
                ji.innerHTML+="゜"
            }
            if(mo.innerHTML=="・ーー・ー"){
                ji.innerHTML+="ー"
            }
            if(mo.innerHTML=="・ー・ー・ー"){
                ji.innerHTML+="、"
            }
            if(mo.innerHTML=="・・ーー・・"){
                ji.innerHTML+="？"
            }
            mo.innerHTML=""
        }
    </script>
</body>
</html>